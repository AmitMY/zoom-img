/*! Built with http://stenciljs.com */
ImgZoom.loadBundle("atyvjj2t",["exports"],function(t){var e=window.ImgZoom.h,o=function(){function t(){this.src="",this.alt="",this.settings={step:.2,min:.125,max:1024,initial:1},this.rotation=0,this.boundMousemove=this.mousemove.bind(this),this.boundMouseup=this.mouseup.bind(this)}return t.prototype.componentDidLoad=function(){this.reset(),this.img.addEventListener("wheel",this.onWheel.bind(this)),this.img.addEventListener("mousedown",this.mousedown.bind(this))},t.prototype.getRect=function(){return this.container.getBoundingClientRect()},t.prototype.getZoom=function(){return Number(this.img.style.zoom)},t.prototype.setZoom=function(t){this.img.style.zoom=String(Math.min(this.settings.max,Math.max(this.settings.min,t)))},t.prototype.zoom=function(t){this.setZoom(this.getZoom()*(1+this.settings.step*(t?1:-1)))},t.prototype.rotate=function(t){this.rotation+=90*(t?1:-1);var e=this.getOffset();this.setOffset(e[0],e[1])},t.prototype.getOffset=function(){var t=this.container.style.transform;if(t){var e=/translate\((.*?)px\,(.*?)px\) rotate\((.*?)deg\)/.exec(t);if(e&&4===e.length)return[e[1],e[2]].map(Number)}return[0,0]},t.prototype.setOffset=function(t,e){this.container.style.transform="translate("+t+"px,"+e+"px) rotate("+this.rotation+"deg)"},t.prototype.reset=function(){this.setZoom(this.settings.initial),this.rotation=0,this.setOffset(0,0),this.img.style.width=String(.9*this.host.getBoundingClientRect().width)+"px"},t.prototype.onWheel=function(t){t.preventDefault();var e=t.deltaY?t.deltaY:-t.wheelDelta,o=this.getRect(),i=(t.pageX-o.left-window.pageXOffset)/o.width,n=(t.pageY-o.top-window.pageYOffset)/o.height;if(!(i>1||i<0||n>1||n<0)){this.zoom(e<0);var s=this.getOffset(),r=s[0],u=s[1],a=this.getRect(),p=t.pageX-a.left-window.pageXOffset+r,h=t.pageY-a.top-window.pageYOffset+u,f=p-a.width*i,m=h-a.height*n;this.setOffset(f,m)}},t.prototype.mousedown=function(t){t.preventDefault(),this.previousEvent=t,window.addEventListener("mousemove",this.boundMousemove),window.addEventListener("mouseup",this.boundMouseup)},t.prototype.mouseup=function(t){t.preventDefault(),window.removeEventListener("mouseup",this.boundMouseup),window.removeEventListener("mousemove",this.boundMousemove)},t.prototype.mousemove=function(t){t.preventDefault();var e=this.getOffset(),o=e[0],i=e[1];o+=t.pageX-this.previousEvent.pageX,i+=t.pageY-this.previousEvent.pageY,this.previousEvent=t,this.setOffset(o,i)},t.prototype.render=function(){var t=this;return e("div",{ref:function(e){return t.container=e}},e("img",{src:this.src,alt:this.alt,ref:function(e){return t.img=e}}))},Object.defineProperty(t,"is",{get:function(){return"img-zoom"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{alt:{type:String,attr:"alt"},host:{elementRef:!0},settings:{type:"Any",attr:"settings"},src:{type:String,attr:"src"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return".sc-img-zoom-h{overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:100%;width:100%}img.sc-img-zoom{cursor:-webkit-grab}"},enumerable:!0,configurable:!0}),t}();t.ImgZoom=o,Object.defineProperty(t,"__esModule",{value:!0})});